## 네트워크란

- 컴퓨터간 통신을 의미
    - 컴퓨터간 파일 송수신, 웹사이트 등등

## 커버 범위에 따른 네트워크 구분

- LAN(Local Area Network) : 건물등 특정 지역을 범위로 하는 네트워크

- WAN(Wide Area Network) : 인터넷 서비스 제공자(kt, sk브로드밴드, amazon)등이 제공하는 광역 네트워크

- WLAN(Wireless Local Area Network) : 무선 근거리 네트워크

## 프로토콜

- 컴퓨터간 통신을 하기 위한 규칙

- 우리가 Rest API로 브라우저랑 서버랑 정보를 주고받는 통신도 http 프로토콜을 이용한것임

## OSI 7 Layer

- 컴퓨터간 데이터를 전송을 지원할 수 있는 추상 모델을 표준화한 것

- 각 Layer 마다 프로토콜이 다 있다

- 7단계 계층으로 나눔으로서 특정한 곳에 이상이 생기면 다른단계의 hw 나 sw를 건들이지 않고 이상이 생긴 딱 그 단계만 고칠수 있다(유지보수 용이)

- 데이터는 7단계부터 1단계 순으로 과정을 밟으며 캡슐화가 된다

- 전송된 데이터는 읽혀질때 1단계부터 7단계 순으로 과정을 밟으며 역캡슐화 된다

- 데이터가 캡슐화될 때 header와body로 구성되게 되는데, body에는 실제 데이터가 들어가고 header에는 각 Layer의 프로토콜이 header에 들어간다 (예를들어 Application 단계에서 Presentation 단계로 넘어갈 때 Applicaton 단계에서의 header(Application단계의프로토콜) 와 data는 Presentation단계에서 data로 포함되고 새로운 Presentation단계의 프로토콜이 header가 된다)

## OSI 7 Layer 단계별 역할

### 1단계(Physical Layer)

- 데이터를 전기신호로 변환하여 송수신

- 단순히 데이터 전달하는 기능만함(데이터가 무엇인지, 어떤에러가있는지 전혀 신경 안씀)

### 2단계(Data Link Layer)

- Physical Layer을 통해 전달된 데이터가 안전하게 잘 전달됬는지를 확인하는 역할(오류있을시 재전송도 하는 기능)

- MAC 주소를 통해서 통신 (각 컴퓨터마다 랜카드에 MAC 주소가 정해져있다)

- 데이터 링크 계층에서 데이터 단위는 프레임이다(header와data 풀 세트를 데이터 단위라고한다)

- 대표적으로 이더넷 프로토콜
 
* 사실 1단계와 2단계로 분리시키긴했지만 hw로 보면 하나의 네트워크카드(랜카드)의 안테나가 Physical Layer가되고 랜카드자체가 Data Link Layer가 된다. 따라서 1,2단계는 하나의 프로토콜.

### 3단계(Network Layer)

- 데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)

- 최적의 경로와 ip주소를 정하여 데이터를 전달

- 네트워크 계층에서 데이터 단위는 패킷

### 4단계(Transport Layer)

- 데이터 전송중 손상/유실 확인을 위한 오류 점검 기능

- 목적지의 어떤 응용프로그램에 데이터를 전달해야 하는지를 식별하는 기능(포트)

- 대표적인 프로토콜 : TCP, UDP 프로토콜

    - TCP : 데이터가 손실없이 잘 전달됬는지를 확인하고, 계속 재요청,재응답(채팅서비스에선 TCP가 필수겠지)

```shell
						<TCP 연결방식 : 3-way 핸드쉐이크>

		1단계 : 클라이언트는 서버에 연결하고 싶다는 의사 표시로 SYN(Seq:12)비트를 1로해서 패킷을 서버에 보냄
		2단계 : 클라이언트에 연결해도 좋다는 의미로 SYN(Seq:50) 와 ACK(ACK:Seq+1(13)) 비트를 1로해서 패킷을 클라이언트에 보냄
		3단계 : 클라이언트가 요청에 대한 서버의 응답을 확인했다는 표시로 ACK(ACK:Seq+1(51))보냄

						<TCP 해제방식 : 4-way 핸드쉐이크>

		1단계 : 클라이언트가 FIN 비트를 1로 해서 서버에 요청(연결종료해도될까요?)
		2단계 : 서버가 클라이언트에게 ACK 비트를 1로해서 요청을 일단 받긴했음을 응답으로줌(그리고 종료해도되는지 내부적으로 체크)
		3단계 : 종료해도되면 서버가 클라이언트에게 FIN 비트를 1로해서 응답(네 이제 종료해도됩니다)
		4단계 : 클라이언트가 ACK 비트를 1로해서 서버에 응답
```

    - UDP : 제대로 가든말든 그냥 보내기만함. 전송속도는 TCP보다 빠를수 있겠지. 스트리밍/브로드캐스팅서비스에서 주로사용(데이터 손실보다 속도가 더 중요)

- 전송 계층에서 데이터 단위는 세그먼트

### 5단계(Session Layer)

- 세션관리

- 여러 파일을 각각 다운로드 받을 때, 각 다운로드 연결관리 처리. 각각의 다운로드 파일이 세션.

### 6단계(Presentation Layer)

- Application Layer로 부터 전달받거나, 전달하는 데이터의 암호화 담당

### 7단계(Application Layer)

- 네트워크 응용 프로그램을 위한 인터페이스 제공

- 대표적인 프로토콜 : HTTP

## TCP/IP 모델

- 인터넷 통신을 위한 모델

- OSI 7 Layer는 표준모델, 현실에서 인터넷을 위해 사용하는 모델은 TCP/IP모델

- TCP/IP 모델의 응용계층은  OSI 모델의 세션+표현+응용 계층 통합

```shell
	
	응용계층 : HTTP, FTP, DNS, POP3, SMTP 등등

	전송계층 : TCP, UDP

	인터넷계층(네트워크계층) : IPv4, IPv6

	네트워크 접속 계층(데이터링크계층 + 물리계층) : Ethernet

```
